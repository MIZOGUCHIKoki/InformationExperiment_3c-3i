\chapter{顔画像の印象に関する判断についての眼球運動}
\section{\purpose}
\paragraph{カスケード現象}
嗜好判断が下される際の眼球運動に注目した研究がある．複数の対象を比較しながら好みのものを選ぶ際には，選好する刺激に対して頻繁に視線を向けること\footnote{選好注視と呼ばれている．}が知られており，
次のような実験が行われた．左右に並んだ顔写真を呈示し，「どちらが魅力的か」を判断してもらう．
顔画像を呈示してから，判断するまでの眼球運動を分析すると，画像呈示直後は両者の顔画像を，およそ50\%ずつの割合で見比べるが，その後，選好する顔画像を見る確率が次第に増加し，80\%を超えたところで長く見た顔写真を「魅力的だ」を決定する．
本実験中の「片方の顔画像を見る確率が次第に増加する」現象を，視覚のカスケード現象（以下，カスケード現象）と呼ぶ．
Shimojo \textit{et al.}（2003）は，一方の顔画像に対して注視時間が長くなることによりもう一方の刺激を精査する時間が短くなることによって生じると解釈した．\\
\hfill\cite[p.202]{美感}，\cite{潜在呈示した情報が選択判断時の視線の動きに与える影響}
\paragraph{目的}本実験では，意思決定直前の眼球運動を計測をする．画像が呈示された瞬間から，判断するまでの時間に対して，魅力的であると判断した画像を注視した時刻に\texttt{1}，そうでない時刻に\texttt{0}を割り当て，試行回数20回に対しての割合を求め，カスケード現象が実際に起きているか確認する．
カスケード現象の有無と，理想データと実験データの差異について考察する．
\section{\method}
\newcommand{\elt}{\texttt{Eye Link Ⅱ}}
\newcommand{\tobi}{\texttt{Tobii Grass 3}}
\newcommand{\csv}{\texttt{CSV}}
\paragraph{実験装置}
眼球運動の計測には，\elt（SR Research社）を用いる．刺激呈示用装置として，汎用コンピュータと液晶ディスプレイを利用する．
データ分析するソフトウェアには\matlab を用いる．
\begin{table}[H]
    \caption{実験装置\ （\kadaia）}
    \label{tbl:実験装置\kadaia}
    \begin{tabularx}{\textwidth}{cAR}
        \hline
        {\bfseries 眼球運動計測器}                    & \elt                     & SR Research社                                     \\
        \hline
        \multirow{3}{*}{\bfseries 刺激呈示コンピュータ}  & プロセッサ                    & Intel(R) Core(TM) i7-2600 CPU @ 3.40GHz 3.40 GHz \\
                                               & メモリ                      & 4GB                                              \\
                                               & OS                       & Microsoft Windows 7 Professional Service Pack 1  \\
        \hline
        \multirow{6}{*}{\bfseries データ分析コンピュータ} & コンピュータ                   & MacBook Air 2022 （Apple社）\texttt{MLY13J/A}       \\
                                               & プロセッサ                    & Apple Silicon M2\ \  8コアCPU，8コアGPU               \\
                                               & メモリ                      & 8GB                                              \\
                                               & OS                       & macOS 13.4                                       \\
                                               & \multirow{2}{*}{\matlab} & R2023a - academic use (Update1 9.14.02239454)    \\
                                               &                          & 64-bit (maci64) March 30, 2023                   \\
        \hline
    \end{tabularx}
\end{table}
\clearpage
\begin{wrapfigure}{r}[0mm]{.25\textwidth}
    \centering
    \includegraphics[keepaspectratio,width=.2\textwidth]{../../12_DataAnalysis/exp_1.png}
    \caption{実験の様子}
    \vspace{-2.5cm}
\end{wrapfigure}
\paragraph{眼球運動の計測}
顔の印象に関して判断するときの，眼球運動を計測する．実験参加者は，学生の20代男性1名である．
\elt のアイカメラを装着し，キャリブレーション\footnote{被験者の中心点を，実験機に記憶させる手続き．}およびバリデーション\footnote{キャリブレーションが正常に完了したことを確認する手続き}を行う．
\begin{enumerate}
    \renewcommand{\labelenumi}{\fbox{\theenumi}}
    \item 注視点を表示する．
    \item 2つの顔画像を呈示する．顔画像の例を\figref{fig:顔画像例}に示す．
    \item 魅力的であると判断した顔画像を，キー操作により選択する．
\end{enumerate}
\fbox{1}\ から\ \fbox{3}\ を20回繰り返す．
\paragraph{実験データの分析}
\newcommand{\expos}{\texttt{expos}}
実験データを\csv ファイルで出力したものに対して分析する．出力された\csv ファイルと，データ処理過程で作成する\expos 行列のIndexを以下に示す．
\begin{center}
    \begin{framed}
        \begin{minipage}[t][]{.23\textwidth}
            \begin{center}
                \texttt{exp4i\_g0310.csv}
            \end{center}
            \begin{enumerate}
                \renewcommand{\labelenumi}{\theenumi 列目}
                \item 試行回数
                \item 選択画像
                      \begin{itemize}
                          \setlength{\leftskip}{-2em}
                          \item \texttt{100}：左を選択
                          \item \texttt{102}：右を選択
                      \end{itemize}
            \end{enumerate}
        \end{minipage}
        \begin{minipage}[t]{.48\textwidth}
            \begin{center}
                \texttt{g0310.asc\_TRIAL\_N.csv}\ \ \((\texttt{N}={1,2,\dots 20})\)
            \end{center}
            \begin{enumerate}
                \renewcommand{\labelenumi}{\theenumi 列目}
                \item 時間（ms）
                \item 測定する目の情報（未使用）
                \item 画面の状態
                      \begin{itemize}
                          \setlength{\leftskip}{-2em}
                          \item \texttt{0}：画面表示なし
                          \item \texttt{1}：注視点
                          \item \texttt{2}：画像呈示
                      \end{itemize}
                \item 左右注視位置\(x\)座標
                \item 左注視位置\(y\)座標（未使用）
                \item 左目瞳孔径（未使用）
            \end{enumerate}
        \end{minipage}
        \begin{minipage}[t]{.26\textwidth}
            \begin{center}
                \expos
            \end{center}
            \begin{enumerate}
                \renewcommand{\labelenumi}{\theenumi 列目}
                \item 時間
                \item 画面の状態
                \item {\footnotesize 左右どちらを見ているか}
                \item {\footnotesize 選択した方を見ているか}
                \item \(x\)座標
            \end{enumerate}
        \end{minipage}
    \end{framed}
\end{center}
\paragraph{欠損値}
本実験機\elt は時間周波数\(500\textrm{Hz}\)でデータを取得している．

\begin{wrapfigure}{r}[0mm]{.3\textwidth}
    \centering
    \vspace{-1cm}
    \begin{minipage}{.14\textwidth}
        \centering
        \includegraphics[keepaspectratio,width=\textwidth]{../../12_DataAnalysis/img1.jpeg}
        \subcaption{左に呈示}
    \end{minipage}
    \begin{minipage}{.14\textwidth}
        \centering
        \includegraphics[keepaspectratio,width=\textwidth]{../../12_DataAnalysis/img2.jpeg}
        \subcaption{右に呈示}
    \end{minipage}
    \caption{呈示される顔画像（例）}
    \label{fig:顔画像例}
    \vspace{-1cm}
\end{wrapfigure}
\noindent この場合，隣接するサンプル間の時間感覚は\(2\textrm{ms}\)となる．
眼球の向きが計測できない場合（まばたきなど），その部分のデータは記録されため欠損値として扱う．
\paragraph{データ処理の手順}
本実験では，呈示された顔画像に対して魅力的であると判断した時刻から1秒さかのぼった時刻を\(-1000\textrm{ms}\)とし，
選択した顔画像を見ている場合を\texttt{1}，そうでない場合を\texttt{0}として，その合計を欠損値を除いた試行回数で割り，
\(0\textrm{ms}\)から\(500\textrm{ms}\)の各時刻に対して，魅力的であると判断した画像を注視した割合を算出する．
\begin{enumerate}
    \item \texttt{exp4i\_g0310.csv}を\texttt{readmatrix}関数を用いて読み込む．
    \item 試行回数分のループ中に次の処理を行う．ループ変数を\texttt{k}とする．
          \begin{enumerate}
              \renewcommand{\theenumii}{\roman{enumii}}
              \renewcommand{\labelenumii}{\textbf{\theenumii}. }
              \newcommand{\dt}{\texttt{data}}
              \newcommand{\ms}{\texttt{ms}}
              \newcommand{\bn}{\texttt{bin}}
              \item 各試行結果を\texttt{readmatrix}関数を用いて読み込む（\dt ）．
              \item \dt の行サイズ（\texttt{sizeR}），列サイズ（\texttt{sizeC}）に対して，欠損値がない場合の理想行サイズ（\ms）を求める．
              \item \expos を\mat{\ms}{5}で初期化する．初期値を\texttt{0}にするため，\texttt{zeros}関数を用いる．
              \item \dt と\expos に対して判断した瞬間を時刻\(0\)とするため，\dt と\expos それぞれに対して，\mat{\textrm{全}}{1}と\mat{1}{1}の差をとる．
              \item デフォルトで欠損値とするため，\expos の2行目から5行目へ\(-1\)を代入する．
              \item \expos と\dt の1列目に対して欠損値を検出するため，\texttt{ismember}関数を用いる．この関数は，第1引数にある行が第2引数にあれば\texttt{1}，そうでなければ\texttt{0}を返す．この真理行列を\bn とする．
              \item \expos の2列目に\dt の3列目，\expos の5列目に\dt の4列目を代入する．このとき，\bn が\texttt{1}の行のみ\expos へ代入する．
              \item 注視点を見ているとき，左目\(x\)座標の平均値（\texttt{x\_ave}）に対して，左目\(x\)座標が\texttt{x\_ave}以下の場合は「左を見ている」，\texttt{x\_ave}より大きい場合は「右を見ている」とし，\expos 3列目に\texttt{100}または\texttt{102}を代入する．欠損値に対しては処理を行わない．
              \item 最終的に魅力的であると判断した顔画像を注視している場合は\texttt{1}，そうでない場合は\texttt{0}を\expos の4列目に代入する．この処理は，画面状態が\texttt{0}と欠損値に対しては行わない．
              \item \mat{500}{20}で初期化済みの\texttt{mergeC}行列に対して，\mat{\textrm{全}}{\texttt{k}}に\expos の\(1\)から\(500\)行目（判断前1秒間）のデータを格納する．
          \end{enumerate}
    \item 各時刻（\(2\textrm{ms}\)ごと）を格納する\texttt{ratio}変数を初期化する．
    \item 魅力的であると判断した顔画像を注視している割合を，欠損値の試行を除いた試行回数で割ることにより求める．
    \item 時間軸に対して，\texttt{ratio}を\texttt{plot}関数を用いて，グラフを描画する（\sref{src:12_01}）．
    \item 考察のために，キーを押下し選択する\(1200\textrm{ms}\)からのデータと，そのデータに対して\texttt{polyfit}関数と\texttt{polyval}関数を用いて，\(x\)軸\texttt{time}，\(y\)軸\texttt{ratio}の3次近似多項式を取り，グラフに描画する（\sref{src:12_02}）．
\end{enumerate}
\section{\result}
実験結果を\figref{fig:\kadaia 実験結果}，\figref{fig:\kadaia 実験結果2}に示す．
\begin{figure}[H]
    \centering
    \begin{minipage}{.48\textwidth}
        \centering
        \includegraphics[keepaspectratio,width=.8\textwidth]{../../Figures/12_01_graph.pdf}
        \caption{\(1\textrm{s}\)前からの結果}
        \label{fig:\kadaia 実験結果}
    \end{minipage}
    \begin{minipage}{.48\textwidth}
        \centering
        \includegraphics[keepaspectratio,width=.8\textwidth]{../../Figures/12_02_graph.pdf}
        \caption{\(1.2\textrm{s}\)前からの結果と近似多項式曲線}
        \label{fig:\kadaia 実験結果2}
    \end{minipage}
\end{figure}
\section{\consideration}
実験結果ではカスケード現象を確認できなかった．
原因として，魅力的であると判断した後に少し時間を置いてからキーを押下し選択していることが考えられる．
\figref{fig:\kadaia 実験結果2}より，判断前\(800\textrm{ms}\)にピークを迎えており，この時刻が魅力的であると判断した時刻であろう．
その前提を真とすると，判断前\(1200\textrm{ms}\)から\(800\textrm{ms}\)で，割合は増加傾向にあり，これがカスケード現象と考えられる．
\section{\conclusion}
本実験を通して，カスケード現象を正しく検出するためには，魅力的であると判断した瞬間の選択行為が必要であり，魅力的であると判断してから選択行為の間に時間があると，カスケード現象を正しく検出できないことが分かった．
